<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paebbl CO₂ Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .calculator {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 16px;
        }
        .slider-container {
            margin: 20px 0;
        }
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
        }
        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
            border: none;
        }
        .slider-value {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #007bff;
            margin-top: 10px;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
            margin-top: 20px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .results {
            margin-top: 30px;
            padding: 25px;
            background-color: #f8f9fa;
            border-radius: 8px;
            display: none;
        }
        .result-row {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }
        .result-label {
            font-weight: bold;
        }
        .result-value {
            color: #007bff;
            font-weight: bold;
        }
        .savings {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
        }
        .savings h3 {
            margin: 0 0 10px 0;
            font-size: 24px;
        }
        .sequestration {
            background-color: #e8f4fd;
            color: #1e5a8a;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
        }
        .sequestration h3 {
            margin: 0 0 10px 0;
            font-size: 24px;
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>Paebbl CO₂ Calculator</h1>
        <p class="subtitle">Calculate your concrete's carbon footprint and see the impact of Paebbl replacement</p>
        
        <form id="co2-form">
            <div class="form-group">
                <label for="cement-type">Cement Type:</label>
                <select id="cement-type" required>
                    <option value="">Select cement type</option>
                    <option value="CEM_I">CEM I</option>
                    <option value="CEM_II_A">CEM II/A</option>
                    <option value="CEM_II_B">CEM II/B</option>
                    <option value="CEM_III_A">CEM III/A</option>
                    <option value="CEM_III_B">CEM III/B</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="cement">Cement (kg/m³):</label>
                <input type="number" id="cement" required min="0" step="0.1" placeholder="e.g., 300" value="300">
            </div>
            
            <div class="form-group">
                <label for="aggregates">Aggregates (kg/m³):</label>
                <input type="number" id="aggregates" required min="0" step="0.1" placeholder="e.g., 2000" value="2000">
            </div>
            
            <div class="form-group">
                <label for="admixtures">Admixtures (kg/m³):</label>
                <input type="number" id="admixtures" required min="0" step="0.1" placeholder="e.g., 5" value="5">
            </div>

            <div class="form-group">
                <label for="paebbl-replacement">Paebbl Replacement Percentage:</label>
                <div class="slider-container">
                    <input type="range" id="paebbl-replacement" class="slider" min="0" max="30" value="0" step="1">
                    <div class="slider-value" id="slider-value">0%</div>
                </div>
            </div>
            
            <button type="submit">Calculate CO₂ Impact</button>
        </form>
        
        <div class="results" id="results">
            <h2>Results</h2>
            
            <div class="result-row">
                <span class="result-label">Baseline Mix CO₂ Footprint:</span>
                <span class="result-value" id="baseline-co2"></span>
            </div>
            
            <div class="result-row">
                <span class="result-label">Paebbl Mix CO₂ Footprint:</span>
                <span class="result-value" id="paebbl-co2"></span>
            </div>
            
            <div class="result-row">
                <span class="result-label">CO₂ Reduction:</span>
                <span class="result-value" id="co2-reduction"></span>
            </div>
            
            <div class="savings" id="savings">
                <h3 id="savings-percentage"></h3>
                <p>Embodied carbon footprint reduction with Paebbl</p>
            </div>

            <div class="sequestration" id="sequestration">
                <h3 id="co2-sequestered"></h3>
                <p>CO₂ sequestered by Paebbl</p>
            </div>
        </div>
    </div>

    <script>
        // CO₂ emission factors from your spreadsheet (kg CO₂e / kg)
        const EMISSION_FACTORS = {
            cement: {
                'CEM_I': 0.857,
                'CEM_II_A': 0.637,
                'CEM_II_B': 0.512,
                'CEM_III_A': 0.49,
                'CEM_III_B': 0.267
            },
            aggregates: 0.045,
            admixtures: 1.5
        };

        // Paebbl factor for CO₂ sequestration (kg CO₂ sequestered per kg Paebbl)
        const PAEBBL_FACTOR = 0.22;

        // Update slider value display
        const slider = document.getElementById('paebbl-replacement');
        const sliderValue = document.getElementById('slider-value');
        
        slider.addEventListener('input', function() {
            sliderValue.textContent = this.value + '%';
        });

        // Form submission
        document.getElementById('co2-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get input values
            const cementType = document.getElementById('cement-type').value;
            const cement = parseFloat(document.getElementById('cement').value) || 0;
            const aggregates = parseFloat(document.getElementById('aggregates').value) || 0;
            const admixtures = parseFloat(document.getElementById('admixtures').value) || 0;
            const paebblReplacement = parseFloat(document.getElementById('paebbl-replacement').value) || 0;
            
            if (!cementType) {
                alert('Please select a cement type');
                return;
            }
            
            // Calculate baseline CO₂ footprint
            const cementCO2 = cement * EMISSION_FACTORS.cement[cementType];
            const aggregatesCO2 = aggregates * EMISSION_FACTORS.aggregates;
            const admixtureCO2 = admixtures * EMISSION_FACTORS.admixtures;
            const baselineCO2 = cementCO2 + aggregatesCO2 + admixtureCO2;
            
            // Calculate Paebbl mix CO₂ footprint
            const replacementFactor = paebblReplacement / 100;
            const reducedCementQuantity = cement * (1 - replacementFactor);
            const reducedCementCO2 = reducedCementQuantity * EMISSION_FACTORS.cement[cementType];
            const paebblMixCO2 = reducedCementCO2 + aggregatesCO2 + admixtureCO2;
            
            // Calculate embodied carbon reduction
            const co2Reduction = baselineCO2 - paebblMixCO2;
            const reductionPercentage = (co2Reduction / baselineCO2) * 100;
            
            // Calculate CO₂ sequestration
            const paebblQuantity = cement * replacementFactor;
            const co2Sequestered = paebblQuantity * PAEBBL_FACTOR;
            
            // Display embodied carbon results
            document.getElementById('baseline-co2').textContent = baselineCO2.toFixed(1) + ' kg CO₂e/m³';
            document.getElementById('paebbl-co2').textContent = paebblMixCO2.toFixed(1) + ' kg CO₂e/m³';
            document.getElementById('co2-reduction').textContent = co2Reduction.toFixed(1) + ' kg CO₂e/m³';
            document.getElementById('savings-percentage').textContent = reductionPercentage.toFixed(1) + '% Reduction';
            
            // Display sequestration results
            document.getElementById('co2-sequestered').textContent = co2Sequestered.toFixed(1) + ' kg CO₂/m³ Sequestered';
            
            // Show results
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>
